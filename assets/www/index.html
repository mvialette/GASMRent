<!DOCTYPE HTML>
<html>
<head>
<title>G.A.S.M. Rent</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Javascripts -->
<script type="text/javascript" charset="utf-8" src="./js/cordova.js"></script>
<script type="text/javascript" charset="utf-8"
	src="./js/jquery-2.0.3.min.js"></script>
<script type="text/javascript" charset="utf-8"
	src="./js/bootstrap.min.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/respond.min.js"></script>
<script type="text/javascript" charset="utf-8"
	src="./js/barcodescanner.js"></script>

<!-- CSS -->
<link href="./css/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="./css/gasm.css" rel="stylesheet" media="screen">

<!-- JS Function that can be called -->
<script type="text/javascript">
	function scanQRCode() {
		window.plugins.barcodeScanner.scan(function(result) {

			/* alert("(result.cancelled == false), value=" + (result.cancelled == false));
			alert("(result.format == QR_CODE), value=" + (result.format == "QR_CODE"));
			alert("(both), value=" + ((result.cancelled == false) && (result.format == "QR_CODE")));
			 */
			if (result.cancelled == false && result.format == "QR_CODE") {
				var leTextDuQRCode = result.text;
				/* alert("We got a qrcode = " + leTextDuQRCode); */
				window.location = "scan.html?text=" + leTextDuQRCode;
			} else {
				//alert("Le scan n'a pas abouti");
			}
			/* alert("We got a barcode\n" + "Result: " + result.text + "\n"
					+ "Format: " + result.format + "\n" + "Cancelled: "
					+ result.cancelled); */
		}, function(error) {
			//alert("Scanning failed: " + error);
		});

	}
</script>

</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-12 pageTitle" id="applicationTitle">GASM Rent</div>
		</div>
		<div class="row text-center">
			<div class="col-12 pageSection">

				<div class="row largeRow">
					<div class="col-12 text-center largeButton" id="description">
						Bienvenue sur la page d'accueil de l'application mobile G.A.S.M.
						(M.J.C. Villeurbanne) permettant de gérer la location du matériel.
					</div>
				</div>

				<div class="row largeRow">
					<div class="col-12" id="scanQRCode">
						<a class="largeButton" href="#" onClick="scanQRCode()">
							Scanner</a>
					</div>
				</div>
				<div class="row largeRow">
					<div class="col-12" id="viewItems">
						<a class="largeButton" href="./viewItems.html"> Voir le
							matériel </a>
					</div>
				</div>
				
				<div class="row largeRow">
					<div class="col-12" id="about">
						<a class="largeButton" href="./synchronize.html">Synchroniser</a>
					</div>
				</div>

				<div class="row largeRow">
					<div class="col-12" id="about">
						<a class="largeButton" href="./about.html"> A propos </a>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>